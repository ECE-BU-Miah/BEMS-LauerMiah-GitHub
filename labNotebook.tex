%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Compact Laboratory Book
% LaTeX Template
% Version 1.0 (4/6/12)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% Joan Queralt Gil (http://phobos.xtec.cat/jqueralt) using the labbook class by
% Frank Kuster (http://www.ctan.org/tex-archive/macros/latex/contrib/labbook/)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
% Important note:
% This template requires the labbook.cls file to be in the same directory as the
% .tex file. The labbook.cls file provides the necessary structure to create the
% lab book.
%
% The \lipsum[#] commands throughout this template generate dummy text
% to fill the template out. These commands should all be removed when 
% writing lab book content.
%
% HOW TO USE THIS TEMPLATE 
% Each day in the lab consists of three main things:
%
% 1. LABDAY: The first thing to put is the \labday{} command with a date in 
% curly brackets, this will make a new section showing that you are working
% on a new day.
%
% 2. EXPERIMENT/SUBEXPERIMENT: Next you need to specify what 
% experiment(s) and subexperiment(s) you are working on with a 
% \experiment{} and \subexperiment{} commands with the experiment 
% shorthand in the curly brackets. The experiment shorthand is defined in the 
% 'DEFINITION OF EXPERIMENTS' section below, this means you can 
% say \experiment{pcr} and the actual text written to the PDF will be what 
% you set the 'pcr' experiment to be. If the experiment is a one off, you can 
% just write it in the bracket without creating a shorthand. Note: if you don't 
% want to have an experiment, just leave this out and it won't be printed.
%
% 3. CONTENT: Following the experiment is the content, i.e. what progress 
% you made on the experiment that day.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------                               
\UseRawInputEncoding
\documentclass[fontsize=11pt, % Document font size
                             paper=letter, % Document paper type
                             twoside, % Shifts odd pages to the left for easier reading when printed, can be changed to oneside
                             captions=tableheading,
                             index=totoc,
                             hyperref]{labbook}

%\documentclass[idxtotoc,hyperref,openany]{labbook} % 'openany' here removes the
   
\usepackage[bottom=10em]{geometry} % Reduces the whitespace at the bottom of the page so more text can fit

\usepackage[english]{babel} % English language
\usepackage{lipsum} % Used for inserting dummy 'Lorem ipsum' text into the template

\usepackage[utf8]{inputenc} % Uses the utf8 input encoding
\usepackage[T1]{fontenc} % Use 8-bit encoding that has 256 glyphs

\usepackage[osf]{mathpazo} % Palatino as the main font
\linespread{1.05}\selectfont % Palatino needs some extra spacing, here 5% extra
\usepackage[scaled=.88]{beramono} % Bera-Monospace
\usepackage[scaled=.86]{berasans} % Bera Sans-Serif

\usepackage{booktabs,array} % Packages for tables

\usepackage{amsmath} % For typesetting math
\usepackage{graphicx} % Required for including images
\usepackage{etoolbox}
\usepackage[norule]{footmisc} % Removes the horizontal rule from footnotes
\usepackage{lastpage} % Counts the number of pages of the document

\usepackage[dvipsnames]{xcolor}  % Allows the definition of hex colors
\definecolor{titleblue}{rgb}{0.16,0.24,0.64} % Custom color for the title on the title page
\definecolor{linkcolor}{rgb}{0,0,0.42} % Custom color for links - dark blue at the moment

\addtokomafont{title}{\Huge\color{titleblue}} % Titles in custom blue color
\addtokomafont{chapter}{\color{OliveGreen}} % Lab dates in olive green
\addtokomafont{section}{\color{Sepia}} % Sections in sepia
\addtokomafont{pagehead}{\normalfont\sffamily\color{gray}} % Header text in gray and sans serif
\addtokomafont{caption}{\footnotesize\itshape} % Small italic font size for captions
\addtokomafont{captionlabel}{\upshape\bfseries} % Bold for caption labels
\addtokomafont{descriptionlabel}{\rmfamily}
\setcapwidth[r]{10cm} % Right align caption text
\setkomafont{footnote}{\sffamily} % Footnotes in sans serif

\deffootnote[4cm]{4cm}{1em}{\textsuperscript{\thefootnotemark}} % Indent footnotes to line up with text

\DeclareFixedFont{\textcap}{T1}{phv}{bx}{n}{1.5cm} % Font for main title: Helvetica 1.5 cm
\DeclareFixedFont{\textaut}{T1}{phv}{bx}{n}{0.8cm} % Font for author name: Helvetica 0.8 cm

\usepackage[nouppercase,headsepline]{scrpage2} % Provides headers and footers configuration
\pagestyle{scrheadings} % Print the headers and footers on all pages
\clearscrheadfoot % Clean old definitions if they exist

\automark[chapter]{chapter}
\ohead{\headmark} % Prints outer header

\setlength{\headheight}{25pt} % Makes the header take up a bit of extra space for aesthetics
\setheadsepline{.4pt} % Creates a thin rule under the header
\addtokomafont{headsepline}{\color{lightgray}} % Colors the rule under the header light gray

\ofoot[\normalfont\normalcolor{\thepage\ |\  \pageref{LastPage}}]{\normalfont\normalcolor{\thepage\ |\  \pageref{LastPage}}} % Creates an outer footer of: "current page | total pages"

% These lines make it so each new lab day directly follows the previous one i.e. does not start on a new page - comment them out to separate lab days on new pages
\makeatletter
\patchcmd{\addchap}{\if@openright\cleardoublepage\else\clearpage\fi}{\par}{}{}
\makeatother
\renewcommand*{\chapterpagestyle}{scrheadings}

% These lines make it so every figure and equation in the document is numbered consecutively rather than restarting at 1 for each lab day - comment them out to remove this behavior
\usepackage{chngcntr}
\counterwithout{figure}{labday}
\counterwithout{equation}{labday}

% Hyperlink configuration
\usepackage[
    pdfauthor={}, % Your name for the author field in the PDF
    pdftitle={Laboratory Journal}, % PDF title
    pdfsubject={}, % PDF subject
    bookmarksopen=true,
    linktocpage=true,
    urlcolor=linkcolor, % Color of URLs
    citecolor=linkcolor, % Color of citations
    linkcolor=linkcolor, % Color of links to other pages/figures
    backref=page,
    pdfpagelabels=true,
    plainpages=false,
    colorlinks=true, % Turn off all coloring by changing this to false
    bookmarks=true,
    pdfview=FitB]{hyperref}

\usepackage[stretch=10]{microtype} % Slightly tweak font spacing for aesthetics

%\setlength\parindent{0pt} % Uncomment to remove all indentation from paragraphs

%----------------------------------------------------------------------------------------
%	DEFINITION OF EXPERIMENTS
%----------------------------------------------------------------------------------------

% Template: \newexperiment{<abbrev>}[<short form>]{<long form>}
% <abbrev> is the reference to use later in the .tex file in \experiment{}, the <short form> is only used in the table of contents and running title - it is optional, <long form> is what is printed in the lab book itself

\newexperiment{example}[Example experiment]{This is an example experiment}
\newexperiment{example2}[Example experiment 2]{This is another example experiment}
\newexperiment{example3}[Example experiment 3]{This is yet another example experiment}

\newsubexperiment{subexp_example}[Example sub-experiment]{This is an example sub-experiment}
\newsubexperiment{subexp_example2}[Example sub-experiment 2]{This is another example sub-experiment}
\newsubexperiment{subexp_example3}[Example sub-experiment 3]{This is yet another example sub-experiment}

%----------------------------------------------------------------------------------------
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Command to make the lines in the title page

\setlength\parindent{0pt} % Removes all indentation from paragraphs

\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------
%\frontmatter % Use Roman numerals for page numbers

%\begin{center}

%

\title{
\begin{center}
\href{http://www.bradley.edu}{\includegraphics[height=0.5in]{figs/logoBU1-Print}}
\vskip10pt
\HRule \\[0.4cm]
{\Huge \bfseries Laboratory Notebook \\[0.5cm] \Large BEMOSS and Its Enhanced Applications}\\[0.4cm] % Degree
\HRule \\[1.5cm]
\end{center}
}
\author{\Huge Brian Lauer \\ \\ \LARGE blauer@mail.bradley.edu \\[2cm]} % Your name and email address
\date{Beginning March 13, 2018} % Beginning date
\maketitle

%\maketitle % Title page

\printindex
\tableofcontents % Table of contents
\newpage % Start lab look on a new page

\begin{addmargin}[0cm]{0cm} % Makes the text width much shorter for a compact look

\pagestyle{scrheadings} % Begin using headers

%----------------------------------------------------------------------------------------
%	LAB BOOK CONTENTS
%----------------------------------------------------------------------------------------
\labday{Monday, May 06, 2019}
I emailed Mr. Mattus asking him whether he made any progress on finding a laptop that
can be used to demonstrate the installation of BEMOSS. 
 
\labday{Thursday, May 09, 2019}
I picked up a department laptop from Mr. Mattus today. He cleared the partition
completely, so no time had to be spent removing a previous operating system from the
machine. Then, I installed Ubuntu 16.04.6 LTS on the system with a bootable USB flash
from the link provided on the BEMOSS installation guide.

\labday{Wednesday, May 22, 2019}
As recommended by Dr. Miah, I worked on running BEMOSS on the previous teamâ€™s laptop. By running \texttt{./startBEMOSS\_GUI.sh} inside the directory \texttt{/home/bemoss/BEMOSS3.5/GUI}, I was able to start up the BEMOSS Launcher Wizard. By selecting Run BEMOSS in the TKinter GUI the server was started,
and I was able to connect to the local web server at \texttt{localhost:8082.}. At this point, the software was able to detect the WeMo Insight Switch and thus control the Philips Hue bulb connected to it. I was not able to control the motor due to time constraints, but I will do so soon.
\medbreak\noindent
I did some more research on the features that BEMOSS offers at https://github.com/
bemoss/BEMOSS3.5/wiki/BEMOSS-Features including the ability to provide local and remote monitoring and security.

\labday{Thursday, May 23, 2019}

\labday{Friday, May 24, 2019}
The hierarchy of BEMOSS was researched today with the motivation of understanding
the software better in the Developer Resources. The first layer consists of the UI and User
Management which reside in the central server. Here admins can manage different nodes
on the network and either deny or accept requests from users. Layer 2 is the BEMOSS
Application and Data Management Layer which allows developers to create custom
applications for target devices that can be added to the UI. It may be interesting to explore
this feature once I have gotten a better idea of what sort of original contributions I would
like to make to the project. A motivation for this part of BEMOSS is to integrate web
services like IFTTT (IF This Then That) which may be interesting to use. The third layer is
the operating system and framework layer consisting of the agent platform VOLTTRON
developed by the Pacific Northwest National Laboratory. Six different agents perform
various different tasks such as detecting new devices (lighting/plug load controllers)
on the network and monitoring them to ensure they are running properly. Layer 4 is
the BEMOSS connectivity layer that handles the communication between the operating
system layer and the physical hardware devices. This is where support is extended
to different communication technologies like Wi-Fi, Ethernet, and Serial(RS-485). Each
device supported by BEMOSS has an API translator needed to handle the differences in
device attributes.

\labday{Monday, May 27, 2019}
No work was done due to Memorial Day.

\labday{Tuesday, May 28, 2019}
The outline for the presentation on May 31 follows:
\begin{itemize}
\item Introduction
\item Applications of BEMOSS
\item Hardware/software needed to install BEMOSS
\item Immediate future work
\end{itemize}

The following questions are answered to determine what needs to be added to the
presentation:

\begin{itemize}
\item What is BEMOSS? BEMOSS or Building Energy Management Open Source Software
is an agent-based software platform engineered to allow small- and medium-sized
commercial buildings to more seamlessly integrate equipment designed for sensing
and control. This software can allow building owners and engineers to manage
building energy use better by monitoring different load control devices such as
lighting loads, plug loads, and HVAC controllers.
\item How can BEMOSS be applied to the real world?
\item What hardware and software is needed to install BEMOSS?
\item What kind of future work is available to be implemented with this software?
\end{itemize}

After working on the presentation, I worked in the lab to document the toggling of
the WeMo insight switch with BEMOSS. Most of this information was gathered from
https://github.com/bemoss/BEMOSS3.5/wiki/User-Guide-for-BEMOSS-UI.
Once the BEMOSS server has started, type localhost:8082 in the web browser to go to
the BEMOSS Web UI. The username is â€™adminâ€™ and the password is the one set during
installation. To discover the switch, click the "Discover New Devices" tab in the left
navigation bar. Under the "All Plug Load Controllers" menu, select either "All Plug Load
Controllers" or "Belkin International Inc. Insight." Click "Discover Selected Devices" to
complete the process. The number of discovered devices will appear on the Discover
New Devices tab. If only one device has been discovered, a 1 will appear next to the
name Discover/Manage. On the Discover/Manage page, approve the device by setting the
approval status to "Approved" then select "Save Changes to Plugload Controllers." Navigate to the tab NODE$1$. Select "View All" under "Plugload", then select the WeMo smart plug icon to change the status of the plug and view the power consumption.  

\labday{Wednesday, May 29, 2019}
I spent the first few hours of the day reading through \cite{Pipattanasomporn2015}. I worked on researching the applications of BEMOSS and the introduction for the May 31st presentation. The future work still needs to be researched and added. Also, I would like to add some pictures to the slides to help the audience members gain a better visual understanding. Ideally, the presentation should be finished tomorrow morning, so I can have more time to practice. I practiced the presentation at the end of the day today without everything completed which isolated my knowledge gaps and gave me a better idea of what I should work on. To provide better flow between slides I must find ways to transition well between them. 

\labday{Thursday, May 30, 2019}
More work was done on the presentation.

\labday{Friday, May 31, 2019}
Work on presentation and meeting with other members of the Robotics and Mechatronics (RAM) group.

\labday{Monday, June 3, 2019}
I read through \cite{Zhang2016} and \cite{Khan2018} to obtain more ideas on original contributions I can make to the project. One thing I found in \cite{Khan2018} is the use of an induction motor in McNeese State University's microgrid. With a variable frequency drive, this could be integrated with BEMOSS to control different types of industrial loads. One problem is the high price tag on both. In \cite{Zhang2016}, a Particle Photon board was used to control the brightness of fluorescent lighting via step-dim ballasts. The Raspberry Pi is definitely a better option here than the Photon board as the previous senior project group used an RPi in their project. 
\end{addmargin}

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------


\bibliographystyle{plain}
\bibliography{bib/seniorProject2017.bib}


% \begin{thebibliography}{9}

% \bibitem{lamport94}
% Leslie Lamport,
% \emph{\LaTeX: A Document Preparation System}.
% Addison Wesley, Massachusetts,
% 2nd Edition,
% 1994.

% \end{thebibliography}

%----------------------------------------------------------------------------------------

\end{document}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
